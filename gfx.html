<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /> 
  
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.4/dijit/themes/claro/claro.css" />
  <script>
var dojoConfig = {
  async: true,
  parseOnLoad: true,
  gfxRenderer: "svg",
  packages: [{
    name: 'dstore',
    location: 'http://cdn.rawgit.com/SitePen/dstore/v1.0.0'
  }, {
    name: 'dmodel',
    location: 'http://cdn.rawgit.com/SitePen/dmodel/master'
  }]
};
  </script>

  <script src='http://ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js'></script>

  <script>

require([
  "dojo/on",
  "dojo/dom",
  "dojo/dom-construct",
  "dojo/parser",
  "dijit/registry",
  "dijit/MenuBar",
  "dijit/PopupMenuBarItem",
  "dijit/Menu",
  "dijit/MenuItem",
  "dijit/MenuBarItem",
  "dijit/DropDownMenu",
  "dijit/CheckedMenuItem",
  "dijit/Dialog",
  "dijit/form/CheckBox",
  "dijit/form/TextBox",
  "dijit/form/Button",
  "dijit/form/DateTextBox",
  "dijit/form/Select",
  "dijit/form/MultiSelect",
  "dijit/layout/TabContainer", 
  "dijit/layout/ContentPane", 
  "dojox/layout/TableContainer",
  "dojo/date",
  "dstore/Memory",
  "dmodel/Model",
  "dojox/gfx",
  "dojox/gfx/svg_attach",
  "dojo/domReady!"
], function(
  on, 
  dom, 
  domConstruct, 
  parser, 
  registry, 
  MenuBar, 
  PopupMenuBarItem, 
  Menu, 
  MenuItem, 
  MenuBarItem, 
  DropDownMenu,
  CheckedMenuItem, 
  Dialog, 
  CheckBox, 
  TextBox, 
  Button, 
  DateTextBox, 
  Select,
  MultiSelect,
  TabContainer,
  ContentPane,
  TableContainer, 
  Date,
  Memory,
  Model,
  gfx,
  svg_attach){

  parser.parse();

  // ===============================================
  // SVG drawing
  // ===============================================
  var graph = dom.byId("graph");
  var g_doc = graph.getSVGDocument();
  var svg   = g_doc.getElementById("svg");

  var surfaceObj  = svg_attach.attachSurface(g_doc.activeElement);

  surfaceObj.createRect({ x: 100, y: 50, width: 200, height: 100 })
.setFill("yellow")
.setStroke("blue");
  
  // Create a GFX surface
// Arguments:  node, width, height
var surface = gfx.createSurface("gfxObject",400,400);
 
// Create a rectangle
surface.createRect({ x: 100, y: 50, width: 200, height: 100 })
.setFill("yellow")
.setStroke("blue");
 
// Add a circle
surface.createCircle({ cx: 100, cy: 300, r:50 })
.setFill("green")
.setStroke("pink");
 
// Now an ellipse
surface.createEllipse({ cx: 300, cy: 200, rx:50, r:25 })
.setFill("#fff")
.setStroke("#999");
 
// And a line
surface.createLine({ x1: 10, y1: 50, x2:400, y2:400 })
.setStroke("green");
 
// How about a polyline?
surface.createPolyline([
{x: 250, y: 250},
{x: 300, y: 300},
{x: 250, y: 350},
{x: 200, y: 300},
{x: 110, y: 250}
]).setStroke("blue");



  var titi = 10;

  var svgNS   = "http://www.w3.org/2000/svg";
  var xlinkNS = "http://www.w3.org/1999/xlink";

  function SVG_drawCalendarDate(calendarId, iDate, date){
    // Create a group
    var group = graph.createGroup();

    // Add a shape directly to the group instead of the surface
    var rectShape = group.createRect({ x: 0, y: 0, width: 200, height: 100 }) .setFill("#0000ae");



/*    
    var G       = document.createElementNS(svgNS,"g");
    G.setAttributeNS(null,"transform","translate(" + 1440 * iDate + ",0)");
    G.setAttributeNS(null,"class", iDate % 2 ? "even" : "uneven" );
    G.setAttributeNS(null,"id", date);
    calendarId.appendChild(G);

    var UseDay = document.createElementNS(svgNS, "use");
    UseDay.setAttributeNS(xlinkNS, 'href', "#day");
    G.appendChild(UseDay);

    var TextRelativeDate = document.createElementNS(svgNS,"text");
    TextRelativeDate.setAttributeNS(null,"class","day_label relative");
    TextRelativeDate.setAttributeNS(null,"x","720");
    TextRelativeDate.setAttributeNS(null,"y","-70");
    G.appendChild(TextRelativeDate);

    var TextNodeRelativeDate = document.createTextNode("Day " + iDate );
    TextRelativeDate.appendChild(TextNodeRelativeDate);

    var TextYYYYMMDDDate = document.createElementNS(svgNS,"text");
    TextYYYYMMDDDate.setAttributeNS(null,"class","day_label yyyymmdd");
    TextYYYYMMDDDate.setAttributeNS(null,"x","720");
    TextYYYYMMDDDate.setAttributeNS(null,"y","-20");
    G.appendChild(TextYYYYMMDDDate);
    
    var TextNodeYYYYMMDDDate = document.createTextNode(date);
    TextYYYYMMDDDate.appendChild(TextNodeYYYYMMDDDate);

    var UseHours = document.createElementNS(svgNS,"use");
    UseHours.setAttributeNS(xlinkNS, 'href', "#hours");
    G.appendChild(UseHours);
    */
  }


  function SVG_drawDO(activitiesId, iDate){
    var G = document.createElementNS(svgNS,"g");
    G.setAttributeNS(null,"transform","translate(" + iDate * 1440 + ",500)");
    G.setAttributeNS(null,"id","do_1");
    G.setAttributeNS(null,"onclick","alert('click! do_1');");
    activitiesId.appendChild(G);

    var Rect = document.createElementNS(svgNS,"rect");
    Rect.setAttributeNS(null,"class","DO");
    Rect.setAttributeNS(null,"x","0");
    Rect.setAttributeNS(null,"y","0");
    Rect.setAttributeNS(null,"rx","20");
    Rect.setAttributeNS(null,"ry","20");
    Rect.setAttributeNS(null,"width","1440");
    Rect.setAttributeNS(null,"height","100");
    G.appendChild(Rect);

    var Text = document.createElementNS(svgNS,"text");
    Text.setAttributeNS(null,"class","label");
    Text.setAttributeNS(null,"x","10");
    Text.setAttributeNS(null,"y","50");
    Text.setAttributeNS(null,"font-size","50");
    Text.setAttributeNS(null,"text-anchor","start");
    G.appendChild(Text);

    var TextNode = document.createTextNode("DO");
    Text.appendChild(TextNode);
  }
});
  </script>

</head>
<body class="claro">
  

  <!-- SVG code -->
  <object id="graph" type="image/svg+xml" data="gantt.svg" width="100%">
    Sorry, your browser does not support SVG.
  </object>
  

<div id="gfxObject"></div>

</html>
