<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">

  
  

  
  
  

  

  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojo/dojo.js" data-dojo-config="async: 1, isDebug: 1"></script>

  

  

  

  
    <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  

  

  <style type="text/css">
    body {
    font-family: sans-serif;
}
  </style>

  <title>remove all items in dstore</title>

  
</head>

<body class="claro">
  <div id="usersGrid"></div>
<button id="reset">Remove All</button>
  




<script type='text/javascript'>//<![CDATA[

require({
    packages: [{
        name: 'dgrid',
        location: '//cdn.rawgit.com/SitePen/dgrid/v0.4.0'
    }, {
        name: 'dstore',
        location: '//cdn.rawgit.com/SitePen/dstore/v1.0.0'
    }, {
        name: 'xstyle',
        location: '//cdn.rawgit.com/kriszyp/xstyle/v0.2.1'
    }, {
        name: 'put-selector',
        location: '//cdn.rawgit.com/kriszyp/put-selector/v0.3.6'
    }]
}, [
    'dojo/dom',
    'dojo/on',
    'dojo/_base/declare',
    'dgrid/OnDemandGrid',
    'dstore/Memory',
    'dstore/Trackable',
    'dojo/domReady!'
], function (dom, on, declare, OnDemandGrid, Memory, Trackable) {
    
    var TrackableMemory = declare([ Memory, Trackable ]);
    
    var data = [{
        _id: 1,
        name: 'jill'
    }, {
        _id: 2,
        name: 'bob'
    }, {
        _id: 3,
        name: 'nancy'
    }];
    
    var userMem = new TrackableMemory({
        data: data,
        idProperty: '_id'
    });

    var usersGrid = new OnDemandGrid({
        collection: userMem,
        columns: {
            _id: 'ID',
            name: 'Name'
        },
        className: 'dgrid-autoheight',                
        noDataMessage: 'No records found'
    }, 'usersGrid');

    on(dom.byId('reset'), 'click', function (evt) {
        console.log('resetting');
        userMem.forEach(function (userObj) {
			userMem.remove(userObj._id);
		}).then(function () {
			console.log('successfully removed users');
		});
    });
});
//]]> 

</script>

  <script>
  // tell the embed parent frame the height of the content
  if (window.parent && window.parent.parent){
    window.parent.parent.postMessage(["resultsFrame", {
      height: document.body.getBoundingClientRect().height,
      slug: "zz4mLw73"
    }], "*")
  }
</script>

</body>

</html>


